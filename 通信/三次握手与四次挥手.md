![alt](./imgs/tcp%E5%A4%B4%E9%83%A8.png)

### 常见控制字段
- #### SYN = 1 表示请求建立连接
- #### FIN = 1 表示请求断开连接
- #### ACK = 1 表示数据信息确认

### 三次握手
- #### 客户端发送连接请求SYN = 1
- #### 发送数据确认请求ACK = 1
- #### 注意：数据都是有来有回的，这两次请求建立了由客户端发送到服务端的数据通道
- #### 服务端发送数据连接的请求SYN = 1
- #### 客户端发送数据确认连接的请求ACK = 1
- #### 注意：这时候建立起由服务端到客户端的数据通道
- #### 实际上，服务端将数据确认请求和数据连接请求进行合并，同时发送SYN = 1和ACK = 1，这时候就是三次握手


### 四次挥手
- #### 客户端发送断开连接的请求
- #### 服务端回复确认的请求
- #### 注意：这时候断开了客户端到服务端的数据通道
- #### 服务端发送端口连接的请求
- #### 客户端回复确认的请求
- #### 注意：这时候断开了服务端到客户端的数据通道，连接完全断开
- #### 为什么不将回复客户端的请求和服务端断开连接的请求合并在一起呢：因为接收到客户端断开请求的时候，服务端可能还有数据没有发送完，所以不能一起将回复请求和发送断开请求一起。